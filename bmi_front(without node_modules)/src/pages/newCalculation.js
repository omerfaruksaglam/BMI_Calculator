/**
 * @author Ömer Faruk Sağlam
 * @date 12.05.2023
 * @description This is New Calculation Page.
 */
import axios from 'axios';
import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';

export default function newCalculation() {

  let navigate=useNavigate()

const [user,setUser] =useState({
  firstName:"",
  lastName:"",
  dateOfBirth:"",
  gender:"",
  weight:"",
  height:""
})

const{firstName,lastName,dateOfBirth,weight,height} = user

const onInputChance= (e)=>{ 
  setUser({...user, [e.target.name]: e.target.value})

}

const onSubmit= async (e)=>{
   e.preventDefault();
   await axios.post("http://localhost:8080/persons", user)
   navigate("/");
}

  return (
    <div className="container">
        <div className="row">
            <div className='col-md-6 offset-md-3 border rounded p-4 mt-2 shadow'>
                <h2 className='text-centser m-4'> Calculate your BMI !</h2>
                <form onSubmit={(e)=> onSubmit(e)}>
                <div className='mb-3'>
                  <label htmlFor='first_name' className='form-label'>
                   First Name
                  </label>
                  <input 
                  type={"text"}
                  className='form-control'
                  placeholder='Enter your first name'
                  name='firstName'
                  value={firstName}
                  onChange={(e)=>onInputChance(e)}
                  />
                
                </div>
                <div className='mb-3'>
                  <label htmlFor='Name' className='form-label'>
                   Last Name
                  </label>
                  <input 
                  type={"text"}
                  className='form-control'
                  placeholder='Enter your last name'
                  name='lastName'
                  value={lastName}
                  onChange={(e)=>onInputChance(e)}
                  />
                </div>
                <div className='mb-3'>
                  <label htmlFor='Name' className='form-label'>
                  Date of Birth
                  </label>
                  <input 
                  type={"date"}
                  className='form-control'
                  placeholder='Enter your birth date'
                  name='dateOfBirth'
                  value={dateOfBirth}
                  onChange={(e)=>onInputChance(e)}
                  />
                </div>
              
                <div className='mb-3'>
                  <div className="form-check d-inline-block mr-3">
                    <input className="form-check-input"
                      type="radio"
                      name="gender"
                      id="male"
                      value="male"
                      onChange={(e) => onInputChance(e)}
                    />
                    <label className="form-check-label" htmlFor="male">
                      Male
                    </label>
                  </div>

                  <div className="form-check d-inline-block">
                    <input className="form-check-input mx-2"
                      type="radio"
                      name="gender"
                      id="female"
                      value="female"
                      onChange={(e) => onInputChance(e)}
                    />
                    <label className="form-check-label" htmlFor="female">
                      Female
                    </label>
                  </div>
                </div>

                <div className='mb-3'>
                  <label htmlFor='Name' className='form-label'>
                  Weight (kg)
                  </label>
                  <input 
                  type={"number"}
                  className='form-control'
                  placeholder='Enter your Weight'
                  name='weight'
                  value={weight}
                  onChange={(e)=>onInputChance(e)}
                  />
                </div>
                <div className='mb-3'>
                  <label htmlFor='Name' className='form-label'>
                    Height (m)
                  </label>
                  <input 
                  type={"double"}
                  className='form-control'
                  placeholder='Enter your Height'
                  name='height'
                  min={0}
                  max={3}
                  step="0.01"
                  value={height}
                  onChange={(e)=>onInputChance(e)}
                  />
                </div>
                
                <button type='submit' className='btn btn-outline-primary' > Submit </button>
                          
    
                <button onClick={()=>navigate("/")} type='cancel' className='btn btn-danger mx-3' > Cancel</button>
              </form>
            </div>    
        </div>        
    </div>
  )
}
